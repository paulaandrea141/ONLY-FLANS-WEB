{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/choco/Desktop/onlyflans-web/lib/firebase.ts"],"sourcesContent":["import { initializeApp } from 'firebase/app';\r\nimport { getFirestore } from 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nexport const db = getFirestore(app);\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,MAAM,MAAM,IAAA,8LAAa,EAAC;AACnB,MAAM,KAAK,IAAA,yMAAY,EAAC"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/choco/Desktop/onlyflans-web/pages/leads.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { db } from '../lib/firebase';\r\nimport { collection, query, where, getDocs, updateDoc, doc } from 'firebase/firestore';\r\n\r\ninterface Lead {\r\n  id: string;\r\n  nombre: string;\r\n  telefono: string;\r\n  edad: number;\r\n  colonia: string;\r\n  status: 'nuevo' | 'filtrado' | 'citado' | 'no_apto';\r\n  vacanteSugerida?: string;\r\n  papeler√≠aCompleta: boolean;\r\n  rutaTransporteSabe: boolean;\r\n  lastContact: number;\r\n  notes: string;\r\n  fuenteLead: string;\r\n  fechaCreacion: number;\r\n}\r\n\r\nexport default function LeadsPage() {\r\n  const [leads, setLeads] = useState<Lead[]>([]);\r\n  const [filtroStatus, setFiltroStatus] = useState<string>('todos');\r\n  const [estad√≠sticas, setEstad√≠sticas] = useState({\r\n    total: 0,\r\n    nuevo: 0,\r\n    filtrado: 0,\r\n    citado: 0,\r\n    no_apto: 0,\r\n  });\r\n  const [cargando, setCargando] = useState(true);\r\n\r\n  useEffect(() => {\r\n    cargarLeads();\r\n    const intervalo = setInterval(cargarLeads, 5000); // Actualizar cada 5 segundos\r\n    return () => clearInterval(intervalo);\r\n  }, [filtroStatus]);\r\n\r\n  const cargarLeads = async () => {\r\n    try {\r\n      let q;\r\n      if (filtroStatus === 'todos') {\r\n        q = query(collection(db, 'leads'));\r\n      } else {\r\n        q = query(collection(db, 'leads'), where('status', '==', filtroStatus));\r\n      }\r\n\r\n      const snapshot = await getDocs(q);\r\n      const leadsData = snapshot.docs.map((doc: any) => ({\r\n        ...doc.data(),\r\n        id: doc.id,\r\n      } as Lead));\r\n\r\n      setLeads(leadsData);\r\n\r\n      // Calcular estad√≠sticas\r\n      const allLeads = await getDocs(collection(db, 'leads'));\r\n      const stats = {\r\n        total: allLeads.size,\r\n        nuevo: 0,\r\n        filtrado: 0,\r\n        citado: 0,\r\n        no_apto: 0,\r\n      };\r\n\r\n      allLeads.forEach((doc: any) => {\r\n        const lead = doc.data() as Lead;\r\n        stats[lead.status as keyof typeof stats]++;\r\n      });\r\n\r\n      setEstad√≠sticas(stats);\r\n      setCargando(false);\r\n    } catch (error) {\r\n      console.error('Error cargando leads:', error);\r\n      setCargando(false);\r\n    }\r\n  };\r\n\r\n  const actualizarStatus = async (leadId: string, nuevoStatus: Lead['status']) => {\r\n    try {\r\n      await updateDoc(doc(db, 'leads', leadId), {\r\n        status: nuevoStatus,\r\n        fechaActualizacion: Date.now(),\r\n      });\r\n      await cargarLeads();\r\n    } catch (error) {\r\n      console.error('Error actualizando status:', error);\r\n    }\r\n  };\r\n\r\n  const getColorStatus = (status: string) => {\r\n    switch (status) {\r\n      case 'nuevo':\r\n        return 'bg-blue-100 text-blue-800';\r\n      case 'filtrado':\r\n        return 'bg-yellow-100 text-yellow-800';\r\n      case 'citado':\r\n        return 'bg-green-100 text-green-800';\r\n      case 'no_apto':\r\n        return 'bg-red-100 text-red-800';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const formatearFecha = (timestamp: number) => {\r\n    return new Date(timestamp).toLocaleDateString('es-MX', {\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-900 p-8\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Encabezado */}\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-4xl font-bold text-white mb-2\">üìä CRM de Leads</h1>\r\n          <p className=\"text-gray-400\">Gesti√≥n automatizada de leads en el embudo de reclutamiento</p>\r\n        </div>\r\n\r\n        {/* Estad√≠sticas */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8\">\r\n          <div className=\"bg-blue-600 rounded-lg p-6\">\r\n            <div className=\"text-3xl font-bold text-white\">{estad√≠sticas.total}</div>\r\n            <p className=\"text-blue-100 mt-2\">Total Leads</p>\r\n          </div>\r\n          <div className=\"bg-blue-500 rounded-lg p-6\">\r\n            <div className=\"text-3xl font-bold text-white\">{estad√≠sticas.nuevo}</div>\r\n            <p className=\"text-blue-100 mt-2\">Nuevos</p>\r\n          </div>\r\n          <div className=\"bg-yellow-500 rounded-lg p-6\">\r\n            <div className=\"text-3xl font-bold text-white\">{estad√≠sticas.filtrado}</div>\r\n            <p className=\"text-yellow-100 mt-2\">Filtrados</p>\r\n          </div>\r\n          <div className=\"bg-green-500 rounded-lg p-6\">\r\n            <div className=\"text-3xl font-bold text-white\">{estad√≠sticas.citado}</div>\r\n            <p className=\"text-green-100 mt-2\">Citados</p>\r\n          </div>\r\n          <div className=\"bg-red-500 rounded-lg p-6\">\r\n            <div className=\"text-3xl font-bold text-white\">{estad√≠sticas.no_apto}</div>\r\n            <p className=\"text-red-100 mt-2\">No Aptos</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Filtros */}\r\n        <div className=\"mb-6 flex gap-2 flex-wrap\">\r\n          {['todos', 'nuevo', 'filtrado', 'citado', 'no_apto'].map((status) => (\r\n            <button\r\n              key={status}\r\n              onClick={() => setFiltroStatus(status)}\r\n              className={`px-4 py-2 rounded-lg font-semibold transition-all ${\r\n                filtroStatus === status\r\n                  ? 'bg-purple-600 text-white'\r\n                  : 'bg-slate-800 text-gray-300 hover:bg-slate-700'\r\n              }`}\r\n            >\r\n              {status.charAt(0).toUpperCase() + status.slice(1)}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Tabla de Leads */}\r\n        {cargando ? (\r\n          <div className=\"text-center text-gray-400\">Cargando...</div>\r\n        ) : (\r\n          <div className=\"bg-slate-800 rounded-lg overflow-hidden\">\r\n            <table className=\"w-full\">\r\n              <thead>\r\n                <tr className=\"border-b border-slate-700 bg-slate-900\">\r\n                  <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-300\">Nombre</th>\r\n                  <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-300\">Tel√©fono</th>\r\n                  <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-300\">Colonia</th>\r\n                  <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-300\">Status</th>\r\n                  <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-300\">√öltimo Contacto</th>\r\n                  <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-300\">Acciones</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {leads.length === 0 ? (\r\n                  <tr>\r\n                    <td colSpan={6} className=\"px-6 py-8 text-center text-gray-400\">\r\n                      No hay leads con este filtro\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  leads.map((lead) => (\r\n                    <tr key={lead.id} className=\"border-b border-slate-700 hover:bg-slate-700\">\r\n                      <td className=\"px-6 py-4 text-white font-medium\">{lead.nombre}</td>\r\n                      <td className=\"px-6 py-4 text-gray-300\">\r\n                        <a\r\n                          href={`https://wa.me/${lead.telefono}`}\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                          className=\"text-green-400 hover:underline\"\r\n                        >\r\n                          {lead.telefono}\r\n                        </a>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 text-gray-300\">{lead.colonia}</td>\r\n                      <td className=\"px-6 py-4\">\r\n                        <span\r\n                          className={`px-3 py-1 rounded-full text-xs font-semibold ${getColorStatus(\r\n                            lead.status\r\n                          )}`}\r\n                        >\r\n                          {lead.status}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 text-gray-400 text-sm\">\r\n                        {formatearFecha(lead.lastContact)}\r\n                      </td>\r\n                      <td className=\"px-6 py-4\">\r\n                        <select\r\n                          value={lead.status}\r\n                          onChange={(e) => actualizarStatus(lead.id, e.target.value as Lead['status'])}\r\n                          className=\"bg-slate-700 text-white px-2 py-1 rounded text-sm\"\r\n                        >\r\n                          <option value=\"nuevo\">Nuevo</option>\r\n                          <option value=\"filtrado\">Filtrado</option>\r\n                          <option value=\"citado\">Citado</option>\r\n                          <option value=\"no_apto\">No Apto</option>\r\n                        </select>\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}