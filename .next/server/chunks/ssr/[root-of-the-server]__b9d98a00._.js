module.exports=[7985,a=>a.a(async(b,c)=>{try{let b=await a.y("firebase-1afcf8358dffaf12/app");a.n(b),c()}catch(a){c(a)}},!0),5302,a=>a.a(async(b,c)=>{try{let b=await a.y("firebase-1afcf8358dffaf12/firestore");a.n(b),c()}catch(a){c(a)}},!0),6560,a=>a.a(async(b,c)=>{try{var d=a.i(7985),e=a.i(5302),f=b([d,e]);[d,e]=f.then?(await f)():f;let g=(0,d.initializeApp)({apiKey:"AIzaSyC_placeholder",authDomain:"onlyflans-project.firebaseapp.com",projectId:"onlyflans-project",storageBucket:"onlyflans-project.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abcdef123456"}),h=(0,e.getFirestore)(g);a.s(["db",0,h]),c()}catch(a){c(a)}},!1),2853,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(7669),f=a.i(6560),g=a.i(5302),h=b([f,g]);function i(){let[a,b]=(0,e.useState)([]),[c,h]=(0,e.useState)("todos"),[i,j]=(0,e.useState)({total:0,nuevo:0,filtrado:0,citado:0,no_apto:0}),[k,l]=(0,e.useState)(!0);(0,e.useEffect)(()=>{m();let a=setInterval(m,5e3);return()=>clearInterval(a)},[c]);let m=async()=>{try{let a;a="todos"===c?(0,g.query)((0,g.collection)(f.db,"leads")):(0,g.query)((0,g.collection)(f.db,"leads"),(0,g.where)("status","==",c));let d=(await (0,g.getDocs)(a)).docs.map(a=>({...a.data(),id:a.id}));b(d);let e=await (0,g.getDocs)((0,g.collection)(f.db,"leads")),h={total:e.size,nuevo:0,filtrado:0,citado:0,no_apto:0};e.forEach(a=>{let b=a.data();h[b.status]++}),j(h),l(!1)}catch(a){console.error("Error cargando leads:",a),l(!1)}},n=async(a,b)=>{try{await (0,g.updateDoc)((0,g.doc)(f.db,"leads",a),{status:b,fechaActualizacion:Date.now()}),await m()}catch(a){console.error("Error actualizando status:",a)}};return(0,d.jsx)("div",{className:"min-h-screen bg-slate-900 p-8",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"ðŸ“Š CRM de Leads"}),(0,d.jsx)("p",{className:"text-gray-400",children:"GestiÃ³n automatizada de leads en el embudo de reclutamiento"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[(0,d.jsxs)("div",{className:"bg-blue-600 rounded-lg p-6",children:[(0,d.jsx)("div",{className:"text-3xl font-bold text-white",children:i.total}),(0,d.jsx)("p",{className:"text-blue-100 mt-2",children:"Total Leads"})]}),(0,d.jsxs)("div",{className:"bg-blue-500 rounded-lg p-6",children:[(0,d.jsx)("div",{className:"text-3xl font-bold text-white",children:i.nuevo}),(0,d.jsx)("p",{className:"text-blue-100 mt-2",children:"Nuevos"})]}),(0,d.jsxs)("div",{className:"bg-yellow-500 rounded-lg p-6",children:[(0,d.jsx)("div",{className:"text-3xl font-bold text-white",children:i.filtrado}),(0,d.jsx)("p",{className:"text-yellow-100 mt-2",children:"Filtrados"})]}),(0,d.jsxs)("div",{className:"bg-green-500 rounded-lg p-6",children:[(0,d.jsx)("div",{className:"text-3xl font-bold text-white",children:i.citado}),(0,d.jsx)("p",{className:"text-green-100 mt-2",children:"Citados"})]}),(0,d.jsxs)("div",{className:"bg-red-500 rounded-lg p-6",children:[(0,d.jsx)("div",{className:"text-3xl font-bold text-white",children:i.no_apto}),(0,d.jsx)("p",{className:"text-red-100 mt-2",children:"No Aptos"})]})]}),(0,d.jsx)("div",{className:"mb-6 flex gap-2 flex-wrap",children:["todos","nuevo","filtrado","citado","no_apto"].map(a=>(0,d.jsx)("button",{onClick:()=>h(a),className:`px-4 py-2 rounded-lg font-semibold transition-all ${c===a?"bg-purple-600 text-white":"bg-slate-800 text-gray-300 hover:bg-slate-700"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))}),k?(0,d.jsx)("div",{className:"text-center text-gray-400",children:"Cargando..."}):(0,d.jsx)("div",{className:"bg-slate-800 rounded-lg overflow-hidden",children:(0,d.jsxs)("table",{className:"w-full",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"border-b border-slate-700 bg-slate-900",children:[(0,d.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-300",children:"Nombre"}),(0,d.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-300",children:"TelÃ©fono"}),(0,d.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-300",children:"Colonia"}),(0,d.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-300",children:"Status"}),(0,d.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-300",children:"Ãšltimo Contacto"}),(0,d.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-300",children:"Acciones"})]})}),(0,d.jsx)("tbody",{children:0===a.length?(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No hay leads con este filtro"})}):a.map(a=>{let b;return(0,d.jsxs)("tr",{className:"border-b border-slate-700 hover:bg-slate-700",children:[(0,d.jsx)("td",{className:"px-6 py-4 text-white font-medium",children:a.nombre}),(0,d.jsx)("td",{className:"px-6 py-4 text-gray-300",children:(0,d.jsx)("a",{href:`https://wa.me/${a.telefono}`,target:"_blank",rel:"noopener noreferrer",className:"text-green-400 hover:underline",children:a.telefono})}),(0,d.jsx)("td",{className:"px-6 py-4 text-gray-300",children:a.colonia}),(0,d.jsx)("td",{className:"px-6 py-4",children:(0,d.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${(a=>{switch(a){case"nuevo":return"bg-blue-100 text-blue-800";case"filtrado":return"bg-yellow-100 text-yellow-800";case"citado":return"bg-green-100 text-green-800";case"no_apto":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(a.status)}`,children:a.status})}),(0,d.jsx)("td",{className:"px-6 py-4 text-gray-400 text-sm",children:(b=a.lastContact,new Date(b).toLocaleDateString("es-MX",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}))}),(0,d.jsx)("td",{className:"px-6 py-4",children:(0,d.jsxs)("select",{value:a.status,onChange:b=>n(a.id,b.target.value),className:"bg-slate-700 text-white px-2 py-1 rounded text-sm",children:[(0,d.jsx)("option",{value:"nuevo",children:"Nuevo"}),(0,d.jsx)("option",{value:"filtrado",children:"Filtrado"}),(0,d.jsx)("option",{value:"citado",children:"Citado"}),(0,d.jsx)("option",{value:"no_apto",children:"No Apto"})]})})]},a.id)})})]})})]})})}[f,g]=h.then?(await h)():h,a.s(["default",()=>i]),c()}catch(a){c(a)}},!1),8107,a=>a.a(async(b,c)=>{try{var d=a.i(9168),e=a.i(7068),f=a.i(2759),g=a.i(935),h=a.i(7298),i=a.i(2853),j=a.i(9193),k=b([i]);[i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/leads",pathname:"/leads",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/leads",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__b9d98a00._.js.map